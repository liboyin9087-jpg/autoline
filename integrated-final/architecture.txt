╔══════════════════════════════════════════════════════════════════╗
║                    AutoLine 系統架構圖                           ║
║                     (前後端連線驗證)                             ║
╚══════════════════════════════════════════════════════════════════╝

┌──────────────────────────────────────────────────────────────┐
│                        使用者瀏覽器                            │
│                                                                │
│  開發環境: http://localhost:5173                              │
│  生產環境: http://localhost:8080                              │
└────────────────────┬───────────────────────────────────────────┘
                     │
                     ├──→ API 請求 (/api/*)
                     │    └─→ Vite Proxy → Backend
                     │
                     ├──→ 圖片請求 (/*.png)
                     │    ├─→ 開發: /public/*.png
                     │    └─→ 生產: /dist/*.png
                     │
                     ↓
┌──────────────────────────────────────────────────────────────┐
│                 Express.js 後端服務器                          │
│                 http://localhost:8080                          │
├──────────────────────────────────────────────────────────────┤
│  API 端點:                                                     │
│  ✓ GET  /api/health  → 健康檢查                              │
│  ✓ GET  /api/status  → 連線狀態查詢                          │
│  ✓ POST /api/chat    → AI 對話 (Gemini API)                  │
│                                                                │
│  靜態檔案:                                                     │
│  ✓ /dist/*          → 前端建置檔案                           │
│  ✓ /*.png           → 圖片資源                               │
├──────────────────────────────────────────────────────────────┤
│  配置:                                                         │
│  • CORS: 已啟用 (開發用)                                      │
│  • Body Parser: JSON (50MB limit)                            │
│  • API Key: 從環境變數讀取                                    │
└────────────────────┬─────────────────────────────────────────┘
                     │
                     │ Google Gemini API
                     ↓
┌──────────────────────────────────────────────────────────────┐
│              Google Gemini 2.0 Flash API                       │
│  https://generativelanguage.googleapis.com/v1beta/            │
│                                                                │
│  認證: GOOGLE_API_KEY (從秘密變數讀取)                        │
└──────────────────────────────────────────────────────────────┘

╔══════════════════════════════════════════════════════════════╗
║                    圖片資源對應表                             ║
╚══════════════════════════════════════════════════════════════╝

┌──────────────────────┬────────────────┬─────────────────────┐
│     圖片檔案         │   AI 角色      │      功能描述       │
├──────────────────────┼────────────────┼─────────────────────┤
│ fairy_consultant.png │  智慧仙姑      │ 理性分析，解答疑惑  │
│ qr_selfie_fairy.png  │  桃花仙子      │ 熱情親切，陪伴聆聽  │
│ fairy_food.png       │  閃電娘娘      │ 極速回應，直達重點  │
│ tea_gossip_fairy.png │  雲夢仙子      │ 靈感湧現，詩意表達  │
│ fairy_tech.png       │  天機星君      │ 技術專精，程式Debug │
└──────────────────────┴────────────────┴─────────────────────┘

位置: /public/*.png (開發) & /dist/*.png (生產)
狀態: ✓ 全部存在且正確引用

╔══════════════════════════════════════════════════════════════╗
║                    驗證工具                                   ║
╚══════════════════════════════════════════════════════════════╝

1. npm run check:images      → 驗證圖片位置 (10/10 ✓)
2. npm run check:connection  → 驗證 API 連線 (2/2 ✓)
3. npm run check:all         → 執行所有檢查

╔══════════════════════════════════════════════════════════════╗
║                    測試結果                                   ║
╚══════════════════════════════════════════════════════════════╝

✓ 前後端連線: 正常
✓ 圖片對應: 正確 (5/5)
✓ API 端點: 正常 (3/3)
✓ 安全掃描: 通過 (0 漏洞)
✓ 環境配置: 完善

系統狀態: 就緒 ✓
