# 🚀 快速使用指南

## 新功能使用說明

### 1. 返回按鈕和群組設定

**位置：** 畫面頂部 Header

**返回按鈕：**
- 在 Header 左側顯示 ← 箭頭
- 點擊返回上一頁或重置對話

**群組設定：**
- 點擊群組頭像（Users 圖標）
- 或點擊右側「⋮」更多按鈕
- 選單選項：
  - 群組設定
  - 邀請成員  
  - 清除所有訊息

---

### 2. 麥克風錄音功能

**位置：** 輸入框左側

**使用方式：**
1. 點擊麥克風圖標 🎤
2. 瀏覽器會請求麥克風權限（第一次使用）
3. 開始錄音（按鈕會有動畫效果）
4. 再次點擊停止錄音
5. 錄音檔會自動新增到檔案列表

**提示：**
- 錄音中輸入框會顯示「錄音中...」
- 錄音格式：WebM（建議使用 Chrome/Edge 瀏覽器）

---

### 3. Emoji 表情符號

**位置：** 輸入框左側（麥克風右邊）

**使用方式：**
1. 點擊笑臉圖標 😊
2. 選擇器會展開顯示 15 個常用 Emoji
3. 點擊任一 Emoji 即可插入到輸入框
4. 選擇器會自動關閉

**可用 Emoji：**
😊 👍 ❤️ 😂 🎉 🙏 💪 ✨ 🔥 😎 🤔 😭 😍 🎊 💯

---

### 4. Filter 篩選器

**位置：** 輸入框左側（加號右邊）

**使用方式：**
1. 點擊篩選器圖標 🔍
2. 選擇一個或多個回答類型：
   - 📝 純文字：要求 AI 只用文字回答
   - 🖼️ 圖片：偏好圖片說明
   - 💻 程式碼：優先顯示程式碼範例
   - 📊 分析：要求詳細分析
3. 啟用的篩選器會顯示黃色背景
4. 篩選器圖標會顯示啟用數量徽章

**注意：** 目前為 UI 功能，完整邏輯需要後端配合

---

### 5. 圖片預覽

**位置：** 對話訊息中的卡片

**功能：**
- 上傳圖片檔案後，卡片會顯示縮圖預覽
- 支援格式：JPG, PNG, GIF, WebP, SVG
- 圖片載入失敗會顯示預設圖標
- 點擊卡片可查看完整內容

---

### 6. Token 智能優化

**位置：** 自動運作（背景功能）

**工作原理：**
系統會根據您選擇的角色自動調整回答長度：

- **閃電娘娘**（極簡模式）：超短回答，省成本
- **桃花仙子**（一般對話）：中等長度
- **智慧仙姑**（詳細分析）：較長回答
- **雲夢仙子**（創意內容）：更長回答
- **天機星君**（技術解說）：最長回答

不需要手動設定，系統會自動優化！

---

### 7. 檔案上傳改進

**位置：** 輸入框左側 + 號

**新功能：**
- 檔案列表視覺化顯示
- 每個檔案都可以單獨刪除（點擊 X）
- 最多可上傳 10 個檔案
- 支援多種格式：
  - 圖片：JPG, PNG, GIF, WebP
  - 影片：MP4, MOV, AVI
  - 音訊：MP3, WAV, WebM
  - 文件：PDF, DOC, DOCX, TXT

---

## 🎯 使用技巧

### 提高回答品質
1. **選對角色：** 技術問題選「天機星君」，日常聊天選「桃花仙子」
2. **使用 Filter：** 想要程式碼時啟用「程式碼」篩選器
3. **上傳圖片：** 需要圖片分析時直接上傳，AI 會自動辨識

### 節省成本
1. **不需要長篇回答時選「閃電娘娘」** → 節省 87.5% Token
2. **一般對話選「桃花仙子」或「智慧仙姑」** → 節省 50-75% Token
3. **避免重複提問** → 善用對話歷史功能

### 提升體驗
1. **使用 Emoji 讓對話更生動** → 點擊笑臉圖標快速插入
2. **錄音代替打字** → 長段落說明時使用麥克風
3. **善用檔案上傳** → 一次可以上傳多個檔案分析

---

## ⚠️ 注意事項

### 麥克風使用
- 首次使用需要授予瀏覽器麥克風權限
- 建議使用 Chrome 或 Edge 瀏覽器以獲得最佳相容性
- 錄音會自動轉換為 WebM 格式

### 檔案上傳
- 單次最多 10 個檔案
- 建議單個檔案不超過 10MB（後端需要設定）
- 上傳前確認檔案格式正確

### API 使用
- 確保 .env 檔案中的 GOOGLE_API_KEY 設定正確
- 注意 API 配額限制
- Token 優化可以大幅節省成本，但不會影響回答品質

---

## 🔧 故障排除

### 後端無法連接
1. 檢查 server.js 是否正在運行
2. 確認 .env 檔案中的 API 金鑰正確
3. 查看瀏覽器 Console 的錯誤訊息
4. 檢查 Network 面板的 API 請求狀態

### 麥克風無法使用
1. 檢查瀏覽器權限設定
2. 確認麥克風硬體正常運作
3. 嘗試重新整理頁面並重新授權
4. 使用 HTTPS 連線（HTTP 可能被阻擋）

### 圖片無法顯示
1. 確認圖片檔案格式正確
2. 檢查圖片大小是否過大
3. 查看瀏覽器 Console 是否有載入錯誤
4. 嘗試重新上傳圖片

### Filter 沒有效果
- 目前 Filter 功能主要為 UI 展示
- 完整功能需要在 geminiService 中整合 prompt 調整
- 可以手動在訊息中說明您的偏好（例如：「請只用文字回答」）

---

## 📱 最佳實踐

### 手機使用
- 所有功能都支援觸控操作
- Emoji 選擇器在小螢幕上也能正常使用
- 建議使用橫向模式以獲得更好的視野

### 桌面使用
- 善用鍵盤快捷鍵（Enter 發送，Shift+Enter 換行）
- 可以同時開啟多個功能選單（Emoji + Filter）
- 使用滑鼠懸停查看按鈕提示

### 團隊協作
- 使用群組設定邀請成員
- 善用「清除所有訊息」重新開始討論
- 錄音功能適合會議記錄或語音備註

---

**版本：** 1.0.0  
**更新日期：** 2025-12-04  
**需要協助？** 請參閱 FIXES_SUMMARY.md 獲取完整技術文件
